(this["webpackJsonpreact-front"]=this["webpackJsonpreact-front"]||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/mountains.586806cd.jpg"},25:function(e,t,a){e.exports=a(35)},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),c=a.n(o),s=a(1),l=a(6),i=a(2),m=a(3),u=a(5),d=a(4),p=function(e){return fetch("".concat("http://localhost:8080/api","/post/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},h=function(e,t){return fetch("".concat("http://localhost:8080/api","/post/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},f=function(e,t,a){return fetch("".concat("http://localhost:8080/api","/post/like"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},g=function(e,t,a){return fetch("".concat("http://localhost:8080/api","/post/unlike"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},b=function(e,t,a,n){return fetch("".concat("http://localhost:8080/api","/post/comment"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a,comment:n})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},E=function(e,t,a,n){return fetch("".concat("http://localhost:8080/api","/post/uncomment"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a,comment:n})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},v=a(14),y=a.n(v),N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).loadPosts=function(t){(function(e){return fetch("".concat("http://localhost:8080/api","/posts/?page=").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(t).then((function(t){t.error?console.log(t.error):e.setState({posts:t})}))},e.loadMore=function(t){e.setState({page:e.state.page+t}),e.loadPosts(e.state.page+t)},e.loadLess=function(t){e.setState({page:e.state.page-t}),e.loadPosts(e.state.page-t)},e.renderPosts=function(e){return r.a.createElement("div",{className:"row"},e.map((function(e,t){var a=e.postedBy?"/user/".concat(e.postedBy._id):"",n=e.postedBy?e.postedBy.name:" Unknown";return r.a.createElement("div",{className:"card col-md-4",key:t},r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:"".concat("http://localhost:8080/api","/post/photo/").concat(e._id),alt:e.title,onError:function(e){return e.target.src="".concat(y.a)},className:"img-thunbnail mb-3",style:{height:"200px",width:"100%"}}),r.a.createElement("h5",{className:"card-title"},e.title),r.a.createElement("p",{className:"card-text"},e.body.substring(0,100)),r.a.createElement("br",null),r.a.createElement("p",{className:"font-italic mark"},"Posted by"," ",r.a.createElement(s.b,{to:"".concat(a)},n," "),"on ",new Date(e.created).toDateString()),r.a.createElement(s.b,{to:"/post/".concat(e._id),className:"btn btn-raised btn-primary btn-sm"},"Read more")))})))},e.state={posts:[],page:1},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.loadPosts(this.state.page)}},{key:"render",value:function(){var e=this,t=this.state,a=t.posts,n=t.page;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},a.length?"Recent Posts":"Loading..."),this.renderPosts(a),n>1?r.a.createElement("button",{className:"btn btn-raised btn-warning mr-5 mt-5 mb-5",onClick:function(){return e.loadLess(1)}},"Previous (Page ",this.state.page-1,")"):"",a.length?r.a.createElement("button",{className:"btn btn-raised btn-success mt-5 mb-5",onClick:function(){return e.loadMore(1)}},"Next (Page ",n+1,")"):"")}}]),a}(n.Component),w=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h2",null,"Home"),r.a.createElement("p",{className:"lead"},"Welcome to React Frontend")),r.a.createElement("div",{className:"container"},r.a.createElement(N,null)))},j=function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())},k=function(e){return"undefined"!==typeof window&&localStorage.removeItem("jwt"),e(),fetch("".concat("http://localhost:8080/api","/signout"),{method:"GET"}).then((function(e){return console.log("signout",e),e.json()})).catch((function(e){return console.log(e)}))},S=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},C=function(e){return console.log("email: ",e),fetch("".concat("http://localhost:8080/api","/forgot-password/"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e})}).then((function(e){return console.log("forgot password response: ",e),e.json()})).catch((function(e){return console.log(e)}))},O=function(e,t){return e.location.pathname===t?{color:"#ff9900"}:{color:"#ffffff"}},P=Object(l.g)((function(e){var t=e.history;return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs bg-primary"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",style:O(t,"/"),to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",style:O(t,"/users"),to:"/users"},"Users")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/post/create",style:O(t,"/post/create"),className:"nav-link"},"Create Post")),!S()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",style:O(t,"/signin"),to:"/signin"},"Sign In")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",style:O(t,"/signup"),to:"/signup"},"Sign Up"))),S()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/findpeople",style:O(t,"/findpeople"),className:"nav-link"},"Find People")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/user/".concat(S().user._id),style:O(t,"/user/".concat(S().user._id)),className:"nav-link"},"".concat(S().user.name))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link",style:(O(t,"/signup"),{cursor:"pointer",color:"#fff"}),onClick:function(){return k((function(){return t.push("/")}))}},"Sign Out"))),S()&&"admin"==S().user.role&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/admin",style:O(t,"/admin"),className:"nav-link"},"Admin"))))})),x=a(9),T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleChange=function(t){return function(a){e.setState({error:""}),e.setState(Object(x.a)({},t,a.target.value))}},e.recaptchaHandler=function(t){e.setState({error:""});var a,n=t.target.value.toLowerCase();return"sunday"===n?a=0:"monday"===n?a=1:"tuesday"===n?a=2:"wednesday"===n?a=3:"thursday"===n?a=4:"friday"===n?a=5:"saturday"===n&&(a=6),a===(new Date).getDay()?(e.setState({recaptcha:!0}),!0):(e.setState({recaptcha:!1}),!1)},e.clickSubmit=function(t){t.preventDefault();var a=e.state,n={name:a.name,email:a.email,password:a.password};e.state.recaptcha?function(e){return fetch("".concat("http://localhost:8080/api","/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(n).then((function(t){t.error?e.setState({error:t.error}):e.setState({error:"",name:"",email:"",password:"",open:!0})})):e.setState({error:"What day is today? Please write a correct answer!"})},e.signupForm=function(t,a,n,o){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name"),r.a.createElement("input",{onChange:e.handleChange("name"),type:"text",className:"form-control",value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{onChange:e.handleChange("email"),type:"email",className:"form-control",value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{onChange:e.handleChange("password"),type:"password",className:"form-control",value:n})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},o?"Thanks. You got it!":"What day is today?"),r.a.createElement("input",{onChange:e.recaptchaHandler,type:"text",className:"form-control",placeholder:"Eg.: Sunday"})),r.a.createElement("button",{onClick:e.clickSubmit,className:"btn btn-raised btn-primary"},"Submit"))},e.state={name:"",email:"",password:"",error:"",open:!1,recaptcha:!1},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.password,o=e.error,c=e.open,l=e.recaptcha;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Signup"),r.a.createElement("div",{className:"alert alert-danger",style:{display:o?"":"none"}},o),r.a.createElement("div",{className:"alert alert-info",style:{display:c?"":"none"}},"New account is successfully created. Please"," ",r.a.createElement(s.b,{to:"/signin"},"Sign In"),"."),this.signupForm(t,a,n,l))}}]),a}(n.Component),A=a(23),D=a.n(A),_=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).responseGoogle=function(t){console.log(t);var a=t.profileObj;(function(e){return fetch("".concat("http://localhost:8080/api","/social-login/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return console.log("signin response: ",e),e.json()})).catch((function(e){return console.log(e)}))})({password:a.googleId,name:a.name,email:a.email,imageUrl:a.imageUrl}).then((function(t){console.log("signin data: ",t),t.error?console.log("Error Login. Please try again.."):(console.log("signin success - setting jwt: ",t),j(t,(function(){e.setState({redirectToReferrer:!0})})))}))},e.state={redirectToReferrer:!1},e}return Object(m.a)(a,[{key:"render",value:function(){return this.state.redirectToReferrer?r.a.createElement(l.a,{to:"/"}):r.a.createElement(D.a,{clientId:"214848994819-buj8l4entuhbfem6ocd870oorfmourc7.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:this.responseGoogle,onFailure:this.responseGoogle})}}]),a}(n.Component),I=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleChange=function(t){return function(a){e.setState({error:""}),e.setState(Object(x.a)({},t,a.target.value))}},e.recaptchaHandler=function(t){e.setState({error:""});var a,n=t.target.value.toLowerCase();return"sunday"===n?a=0:"monday"===n?a=1:"tuesday"===n?a=2:"wednesday"===n?a=3:"thursday"===n?a=4:"friday"===n?a=5:"saturday"===n&&(a=6),a===(new Date).getDay()?(e.setState({recaptcha:!0}),!0):(e.setState({recaptcha:!1}),!1)},e.clickSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a=e.state,n={email:a.email,password:a.password};e.state.recaptcha?function(e){return fetch("".concat("http://localhost:8080/api","/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(n).then((function(t){t.error?e.setState({error:t.error,loading:!1}):j(t,(function(){e.setState({redirectToReferer:!0})}))})):e.setState({loading:!1,error:"What day is today? Please write a correct answer!"})},e.signinForm=function(t,a,n){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{onChange:e.handleChange("email"),type:"email",className:"form-control",value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{onChange:e.handleChange("password"),type:"password",className:"form-control",value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},n?"Thanks. You got it!":"What day is today?"),r.a.createElement("input",{onChange:e.recaptchaHandler,type:"text",className:"form-control",placeholder:"Eg.: Sunday"})),r.a.createElement("button",{onClick:e.clickSubmit,className:"btn btn-raised btn-primary"},"Submit"))},e.state={email:"",password:"",error:"",redirectToReferer:!1,loading:!1,recaptcha:!1},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,o=e.redirectToReferer,c=e.loading,i=e.recaptcha;return o?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"SignIn"),r.a.createElement("hr",null),r.a.createElement(_,null),r.a.createElement("hr",null),r.a.createElement("div",{className:"alert alert-danger",style:{display:n?"":"none"}},n),c?r.a.createElement("div",{className:"jumbotron text-center"},r.a.createElement("h2",null,"Loading...")):"",this.signinForm(t,a,i),r.a.createElement("p",null,r.a.createElement(s.b,{to:"/forgot-password",className:"text-danger"}," ","Forgot Password")))}}]),a}(n.Component),F=function(e,t){return fetch("".concat("http://localhost:8080/api","/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},B=function(e,t){return fetch("".concat("http://localhost:8080/api","/user/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},U=function(e,t,a){return fetch("".concat("http://localhost:8080/api","/user/follow"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,followId:a})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},z=function(e,t,a){return fetch("".concat("http://localhost:8080/api","/user/unfollow"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,unfollowId:a})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},L=a(8),R=a.n(L),J=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={redirect:!1},e.deleteAccount=function(){var t=S().token,a=e.props.userId;B(a,t).then((function(t){t.error?console.log(t.error):(k((function(){return console.log("User is deleted")})),e.setState({redirect:!0}))}))},e.deleteConfirmed=function(){window.confirm("Are you sure you want to delete your account?")&&e.deleteAccount()},e}return Object(m.a)(a,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(l.a,{to:"/"}):r.a.createElement("button",{onClick:this.deleteConfirmed,className:"btn btn-raised btn-danger"},"Delete Profile")}}]),a}(n.Component),H=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).followClick=function(){e.props.onButtonClick(U)},e.unfollowClick=function(){e.props.onButtonClick(z)},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"d-inline-block"},this.props.following?r.a.createElement("button",{onClick:this.unfollowClick,className:"btn btn-warning btn-raised"},"UnFollow"):r.a.createElement("button",{onClick:this.followClick,className:"btn btn-success btn-raised mr-5"},"Follow"))}}]),a}(n.Component),M=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.following,a=e.followers,n=e.posts;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h3",{className:"text-primary"},"Followers"),r.a.createElement("hr",null),a.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",null,r.a.createElement(s.b,{to:"/user/".concat(e._id)},r.a.createElement("img",{style:{borderRadius:"50%",border:"1px solid black"},className:"float-left mr-2",height:"30px",width:"30px",onError:function(e){return e.target.src="".concat(R.a)},src:"".concat("http://localhost:8080/api","/user/photo/").concat(e._id),alt:e.name}),r.a.createElement("div",null,r.a.createElement("p",{className:"lead"},e.name)))))}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h3",{className:"text-primary"},"Following"),r.a.createElement("hr",null),t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",null,r.a.createElement(s.b,{to:"/user/".concat(e._id)},r.a.createElement("img",{style:{borderRadius:"50%",border:"1px solid black"},className:"float-left mr-2",height:"30px",width:"30px",onError:function(e){return e.target.src="".concat(R.a)},src:"".concat("http://localhost:8080/api","/user/photo/").concat(e._id),alt:e.name}),r.a.createElement("div",null,r.a.createElement("p",{className:"lead"},e.name)))))}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h3",{className:"text-primary"},"Posts"),r.a.createElement("hr",null),n.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",null,r.a.createElement(s.b,{to:"/post/".concat(e._id)},r.a.createElement("div",null,r.a.createElement("p",{className:"lead"},e.title)))))})))))}}]),a}(n.Component),G=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).checkFollow=function(e){var t=S();return e.followers.find((function(e){return e._id===t.user._id}))},e.clickFollowButton=function(t){t(S().user._id,S().token,e.state.user._id).then((function(t){t.error?e.setState({error:t.error}):e.setState({user:t,following:!e.state.following})}))},e.init=function(t){var a=S().token;F(t,a).then((function(t){if(t.error)e.setState({redirectToSignin:!0});else{var a=e.checkFollow(t);e.setState({user:t,following:a}),e.loadPosts(t._id)}}))},e.loadPosts=function(t){(function(e,t){return fetch("".concat("http://localhost:8080/api","/posts/by/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(t,S().token).then((function(t){t.error?console.log(t.error):e.setState({posts:t})}))},e.state={user:{following:[],followers:[]},redirectToSignin:!1,following:!1,error:"",posts:[]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.init(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params.userId;this.init(t)}},{key:"render",value:function(){var e=this.state,t=e.redirectToSignin,a=e.user,n=e.posts;if(t)return r.a.createElement(l.a,{to:"/signin"});var o=a._id?"".concat("http://localhost:8080/api","/user/photo/").concat(a._id,"?").concat((new Date).getTime()):R.a;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Profile"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{style:{height:"200px",width:"auto"},className:"img-thumbnail",src:o,onError:function(e){return e.target.src="".concat(R.a)},alt:a.name})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"lead mt-2"},r.a.createElement("p",null,"Hello ",a.name),r.a.createElement("p",null,"Email: ",a.email),r.a.createElement("p",null,"Joined ".concat(new Date(a.created).toDateString()))),S().user&&S().user._id===a._id?r.a.createElement("div",{className:"d-inline-block"},r.a.createElement(s.b,{className:"btn btn-raised btn-info mr-5",to:"/post/create"},"Create Post"),r.a.createElement(s.b,{className:"btn btn-raised btn-success mr-5",to:"/user/edit/".concat(a._id)},"Edit Profile"),r.a.createElement(J,{userId:a._id})):r.a.createElement(H,{following:this.state.following,onButtonClick:this.clickFollowButton}),r.a.createElement("div",null,S().user&&"admin"===S().user.role&&r.a.createElement("div",{class:"card mt-5"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Admin"),r.a.createElement("p",{className:"mb-2 text-danger"},"Edit/Delete as an Admin"),r.a.createElement(s.b,{className:"btn btn-raised btn-success mr-5",to:"/user/edit/".concat(a._id)},"Edit Profile"),r.a.createElement(J,{userId:a._id})))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col md-12 mt-5 mb-5"},r.a.createElement("hr",null),r.a.createElement("p",{className:"lead"},a.about),r.a.createElement("hr",null),r.a.createElement(M,{followers:a.followers,following:a.following,posts:n}))))}}]),a}(n.Component),V=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).renderUsers=function(e){return r.a.createElement("div",{className:"row"},e.map((function(e,t){return r.a.createElement("div",{className:"card col-md-4",key:t},r.a.createElement("img",{style:{height:"200px",width:"auto"},className:"img-thumbnail",src:"".concat("http://localhost:8080/api","/user/photo/").concat(e._id),onError:function(e){return e.target.src="".concat(R.a)},alt:e.name}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text"},e.email),r.a.createElement(s.b,{to:"/user/".concat(e._id),className:"btn btn-raised btn-primary btn-sm"},"View Profile")))})))},e.state={users:[]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("http://localhost:8080/api","/users"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(t){t.error?console.log(t.error):e.setState({users:t})}))}},{key:"render",value:function(){var e=this.state.users;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Users"),this.renderUsers(e))}}]),a}(n.Component),W=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).init=function(t){var a=S().token;F(t,a).then((function(t){t.error?e.setState({redirectToProfile:!0}):e.setState({id:t._id,name:t.name,email:t.email,error:"",about:t.about})}))},e.isValid=function(){var t=e.state,a=t.name,n=t.email,r=t.password;return t.fileSize>1e6?(e.setState({error:"File size should be less than 100kb",loading:!1}),!1):0===a.length?(e.setState({error:"Name is required",loading:!1}),!1):/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(n)?!(r.length>=1&&r.length<=5)||(e.setState({error:"Password must be at least 6 characters long",loading:!1}),!1):(e.setState({error:"A valid Email is required",loading:!1}),!1)},e.handleChange=function(t){return function(a){var n;e.setState({error:""});var r="photo"===t?a.target.files[0]:a.target.value,o="photo"===t?a.target.files[0].size:0;e.userData.set(t,r),e.setState((n={},Object(x.a)(n,t,r),Object(x.a)(n,"fileSize",o),n))}},e.clickSubmit=function(t){(t.preventDefault(),e.setState({loading:!0}),e.isValid())&&function(e,t,a){return console.log("USER DATA UPDATE: ",a),fetch("".concat("http://localhost:8080/api","/user/").concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(e.props.match.params.userId,S().token,e.userData).then((function(t){t.error?e.setState({error:t.error}):"admin"===S().user.role?e.setState({redirectToProfile:!0}):function(e,t){if("undefined"!==typeof window&&localStorage.getItem("jwt")){var a=JSON.parse(localStorage.getItem("jwt"));a.user=e,localStorage.setItem("jwt",JSON.stringify(a)),t()}}(t,(function(){e.setState({redirectToProfile:!0})}))}))},e.signupForm=function(t,a,n,o){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Profile Photo"),r.a.createElement("input",{onChange:e.handleChange("photo"),type:"file",accept:"image/*",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name"),r.a.createElement("input",{onChange:e.handleChange("name"),type:"text",className:"form-control",value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{onChange:e.handleChange("email"),type:"email",className:"form-control",value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"About"),r.a.createElement("textarea",{onChange:e.handleChange("about"),type:"text",className:"form-control",value:o})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{onChange:e.handleChange("password"),type:"password",className:"form-control",value:n})),r.a.createElement("button",{onClick:e.clickSubmit,className:"btn btn-raised btn-primary"},"Update"))},e.state={id:"",name:"",email:"",password:"",redirectToProfile:!1,error:"",fileSize:0,loading:!1,about:""},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.userData=new FormData;var e=this.props.match.params.userId;this.init(e)}},{key:"render",value:function(){var e=this.state,t=e.id,a=e.name,n=e.email,o=e.password,c=e.redirectToProfile,s=e.error,i=e.loading,m=e.about;if(c)return r.a.createElement(l.a,{to:"/user/".concat(t)});var u=t?"".concat("http://localhost:8080/api","/user/photo/").concat(t,"?").concat((new Date).getTime()):R.a;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Edit Profile"),r.a.createElement("div",{className:"alert alert-danger",style:{display:s?"":"none"}},s),i?r.a.createElement("div",{className:"jumbotron text-center"},r.a.createElement("h2",null,"Loading...")):"",r.a.createElement("img",{style:{height:"200px",width:"auto"},className:"img-thumbnail",src:u,onError:function(e){return e.target.src="".concat(R.a)},alt:a}),("admin"===S().user.role||S().user._id===t)&&this.signupForm(a,n,o,m))}}]),a}(n.Component),q=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).clickFollow=function(t,a){var n=S().user._id,r=S().token;U(n,r,t._id).then((function(n){if(n.error)e.setState({error:n.error});else{var r=e.state.users;r.splice(a,1),e.setState({users:r,open:!0,followMessage:"Following ".concat(t.name)})}}))},e.renderUsers=function(t){return r.a.createElement("div",{className:"row"},t.map((function(t,a){return r.a.createElement("div",{className:"card col-md-4",key:a},r.a.createElement("img",{style:{height:"200px",width:"auto"},className:"img-thumbnail",src:"".concat("http://localhost:8080/api","/user/photo/").concat(t._id),onError:function(e){return e.target.src="".concat(R.a)},alt:t.name}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.name),r.a.createElement("p",{className:"card-text"},t.email),r.a.createElement(s.b,{to:"/user/".concat(t._id),className:"btn btn-raised btn-primary btn-sm"},"View Profile"),r.a.createElement("button",{onClick:function(){return e.clickFollow(t,a)},className:"btn btn-raised btn-info float-right btn-sm"},"Follow")))})))},e.state={users:[],error:"",open:!1},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(e,t){return fetch("".concat("http://localhost:8080/api","/user/findpeople/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(S().user._id,S().token).then((function(t){t.error?console.log(t.error):e.setState({users:t})}))}},{key:"render",value:function(){var e=this.state,t=e.users,a=e.open,n=e.followMessage;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Find People"),a&&r.a.createElement("div",{className:"alert alert-success"},n),this.renderUsers(t))}}]),a}(n.Component),Y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).isValid=function(){var t=e.state,a=t.title,n=t.body;return t.fileSize>1e5?(e.setState({error:"File size should be less than 100kb",loading:!1}),!1):0!==a.length&&0!==n.length||(e.setState({error:"All fields are required",loading:!1}),!1)},e.handleChange=function(t){return function(a){var n;e.setState({error:""});var r="photo"===t?a.target.files[0]:a.target.value,o="photo"===t?a.target.files[0].size:0;e.postData.set(t,r),e.setState((n={},Object(x.a)(n,t,r),Object(x.a)(n,"fileSize",o),n))}},e.clickSubmit=function(t){(t.preventDefault(),e.setState({loading:!0}),e.isValid())&&function(e,t,a){return fetch("".concat("http://localhost:8080/api","/post/new/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(S().user._id,S().token,e.postData).then((function(t){t.error?e.setState({error:t.error}):e.setState({loading:!1,title:"",body:"",redirectToProfile:!0})}))},e.newPostForm=function(t,a){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Post Photo"),r.a.createElement("input",{onChange:e.handleChange("photo"),type:"file",accept:"image/*",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Title"),r.a.createElement("input",{onChange:e.handleChange("title"),type:"text",className:"form-control",value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Body"),r.a.createElement("textarea",{onChange:e.handleChange("body"),type:"text",className:"form-control",value:a})),r.a.createElement("button",{onClick:e.clickSubmit,className:"btn btn-raised btn-primary"},"Create Post"))},e.state={title:"",body:"",photo:"",error:"",user:{},fileSize:0,loading:!1,redirectToProfile:!1},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.postData=new FormData,this.setState({user:S().user})}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.body,n=(e.photo,e.user),o=e.error,c=e.loading;return e.redirectToProfile?r.a.createElement(l.a,{to:"/user/".concat(n._id)}):r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Create a new post"),r.a.createElement("div",{className:"alert alert-danger",style:{display:o?"":"none"}},o),c?r.a.createElement("div",{className:"jumbotron text-center"},r.a.createElement("h2",null,"Loading...")):"",this.newPostForm(t,a))}}]),a}(n.Component),$=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={text:"",error:""},e.handleChange=function(t){e.setState({error:""}),e.setState({text:t.target.value})},e.isvalid=function(){var t=e.state.text;return!(!t.length>0||t.length>150)||(e.setState({error:"Comment should not be empty or greater than 150 characters"}),!1)},e.addComment=function(t){if(t.preventDefault(),!S())return e.setState({error:"Please signin to leave a comment!"}),!1;if(e.isvalid()){var a=S().user._id,n=S().token,r=e.props.postId;b(a,n,r,{text:e.state.text}).then((function(t){t.error?console.log(t.error):(e.setState({text:""}),e.props.updateComments(t.comments))}))}},e.deleteComment=function(t){var a=S().user._id,n=S().token,r=e.props.postId;E(a,n,r,t).then((function(t){t.error?console.log(t.error):e.props.updateComments(t.comments)}))},e.deleteConfirmed=function(t){window.confirm("Are you sure you want to delete your comment?")&&e.deleteComment(t)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.comments,a=this.state.error;return r.a.createElement("div",null,r.a.createElement("h2",{className:"mt-5 mb-5"},"Leave a comment"),r.a.createElement("form",{onSubmit:this.addComment},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"text",value:this.state.text,onChange:this.handleChange,placeholder:"Leave a comment..."}),r.a.createElement("button",{className:"btn btn-raised btn-success mt-2"},"Comment"))),r.a.createElement("div",{className:"alert alert-danger",style:{display:a?"":"none"}},a),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-md-12 col-md-offset-2"},r.a.createElement("h3",{className:"text-primary"},t.length," Comments"),r.a.createElement("hr",null),t.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("div",null,r.a.createElement(s.b,{to:"/user/".concat(t.postedBy._id)},r.a.createElement("img",{style:{borderRadius:"50%",border:"1px solid black"},className:"float-left mr-2",height:"30px",width:"30px",onError:function(e){return e.target.src="".concat(R.a)},src:"".concat("http://localhost:8080/api","/user/photo/").concat(t.postedBy._id),alt:t.postedBy.name})),r.a.createElement("div",null,r.a.createElement("p",{className:"lead"},t.text),r.a.createElement("p",{className:"font-italic mark"},"Posted by ",r.a.createElement(s.b,{to:"/user/".concat(t.postedBy._id)},t.postedBy.name," "),"on ",new Date(t.created).toDateString(),r.a.createElement("span",null,S().user&&S().user._id===t.postedBy._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:function(){return e.deleteConfirmed(t)},className:"text-danger float-right mr-1"},"Remove")))))))}))))}}]),a}(n.Component),K=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={post:"",redirectToHome:!1,redirectToSignin:!1,like:!1,likes:0,comments:[]},e.likeToggle=function(){if(!S())return e.setState({redirectToSignin:!0}),!1;var t=e.state.like?g:f,a=S().user._id,n=e.state.post._id;t(a,S().token,n).then((function(t){t.error?console.log(t.error):e.setState({like:!e.state.like,likes:t.likes.length})}))},e.updateComments=function(t){e.setState({comments:t})},e.componentDidMount=function(){var t=e.props.match.params.postId;p(t).then((function(t){void 0===t?console.log("No response from server"):t.error?console.log(t.error):e.setState({post:t,likes:t.likes.length,like:e.checkLike(t.likes),comments:t.comments})}))},e.checkLike=function(e){var t=S()&&S().user._id;return-1!==e.indexOf(t)},e.deletePost=function(){var t=e.props.match.params.postId,a=S().token;h(t,a).then((function(t){void 0===t?console.log("No response from server"):t.error?console.log(t.error):e.setState({redirectToHome:!0})}))},e.deleteConfirmed=function(){window.confirm("Are you sure you want to delete your account?")&&e.deletePost()},e.renderPost=function(t){var a=t.postedBy?"/user/".concat(t.postedBy._id):"",n=t.postedBy?t.postedBy.name:" Unknown",o=e.state,c=o.like,l=o.likes;return r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:"".concat("http://localhost:8080/api","/post/photo/").concat(t._id),alt:t.title,onError:function(e){return e.target.src="".concat(y.a)},className:"img-thunbnail mb-3",style:{height:"300px",width:"100%",objectFit:"cover"}}),c?r.a.createElement("h3",{onClick:e.likeToggle},r.a.createElement("i",{className:"fa fa-thumbs-up text-success bg-dark",style:{padding:"10px",borderRadius:"50%"}})," ",l," Like"):r.a.createElement("h3",{onClick:e.likeToggle},r.a.createElement("i",{className:"fa fa-thumbs-up text-warning bg-dark",style:{padding:"10px",borderRadius:"50%"}})," ",l," Like"),r.a.createElement("p",{className:"card-text"},t.body),r.a.createElement("br",null),r.a.createElement("p",{className:"font-italic mark"},"Posted by ",r.a.createElement(s.b,{to:"".concat(a)},n," "),"on ",new Date(t.created).toDateString()),r.a.createElement("div",{className:"d-inline-block"},r.a.createElement(s.b,{to:"/",className:"btn btn-raised btn-primary btn-sm mr-5"},"Back to posts"),S().user&&S().user._id===t.postedBy._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/post/edit/".concat(t._id),className:"btn btn-raised btn-warning btn-sm mr-5"},"Update post"),r.a.createElement("button",{onClick:e.deleteConfirmed,className:"btn btn-raised btn-danger btn-sm"},"Delete post")),r.a.createElement("div",null,S().user&&"admin"===S().user.role&&r.a.createElement("div",{className:"card mt-5"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Admin"),r.a.createElement("p",{className:"mb-2 text-danger"},"Edit/Delete as an Admin"),r.a.createElement(s.b,{to:"/post/edit/".concat(t._id),className:"btn btn-raised btn-warning btn-sm mr-5"},"Update Post"),r.a.createElement("button",{onClick:e.deleteConfirmed,className:"btn btn-raised btn-danger"},"Delete Post"))))))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.post,a=e.redirectToHome,n=e.redirectToSignin,o=e.comments;return a?r.a.createElement(l.a,{to:"/"}):n?r.a.createElement(l.a,{to:"/signin"}):r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"display-2 mt-5 mb-5"},t.title),t?this.renderPost(t):r.a.createElement("div",{className:"jumbotron text-center"},r.a.createElement("h2",null,"Loading...")),r.a.createElement($,{postId:t._id,comments:o.reverse(),updateComments:this.updateComments}))}}]),a}(n.Component),Q=a(24),X=function(e){e.component,Object(Q.a)(e,["component"])},Z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).init=function(t){p(t).then((function(t){t.error?e.setState({redirectToProfile:!0}):e.setState({id:t.postedBy._id,title:t.title,body:t.body,error:""})}))},e.isValid=function(){var t=e.state,a=t.title,n=t.body;return t.fileSize>1e6?(e.setState({error:"File size should be less than 100kb",loading:!1}),!1):0!==a.length&&0!==n.length||(e.setState({error:"All fields are required",loading:!1}),!1)},e.handleChange=function(t){return function(a){var n;e.setState({error:""});var r="photo"===t?a.target.files[0]:a.target.value,o="photo"===t?a.target.files[0].size:0;e.postData.set(t,r),e.setState((n={},Object(x.a)(n,t,r),Object(x.a)(n,"fileSize",o),n))}},e.clickSubmit=function(t){(t.preventDefault(),e.setState({loading:!0}),e.isValid())&&function(e,t,a){return console.log("POST DATA UPDATE: ",a),fetch("".concat("http://localhost:8080/api","/post/").concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(e.props.match.params.postId,S().token,e.postData).then((function(t){t.error?e.setState({error:t.error}):e.setState({loading:!1,title:"",body:"",redirectToProfile:!0})}))},e.editPostForm=function(t,a){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Post Photo"),r.a.createElement("input",{onChange:e.handleChange("photo"),type:"file",accept:"image/*",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Title"),r.a.createElement("input",{onChange:e.handleChange("title"),type:"text",className:"form-control",value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Body"),r.a.createElement("textarea",{onChange:e.handleChange("body"),type:"text",className:"form-control",value:a})),r.a.createElement("button",{onClick:e.clickSubmit,className:"btn btn-raised btn-primary"},"Update Post"))},e.state={id:"",title:"",body:"",redirectToProfile:!1,error:"",fileSize:0,loading:!1},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.postData=new FormData;var e=this.props.match.params.postId;this.init(e)}},{key:"render",value:function(){var e=this.state,t=e.id,a=e.title,n=e.body,o=e.redirectToProfile,c=e.error,s=e.loading;return o?r.a.createElement(l.a,{to:"/user/".concat(S().user._id)}):r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},a),r.a.createElement("div",{className:"alert alert-danger",style:{display:c?"":"none"}},c),s?r.a.createElement("div",{className:"jumbotron text-center"},r.a.createElement("h2",null,"Loading...")):"",r.a.createElement("img",{style:{height:"200px",width:"auto"},className:"img-thumbnail",src:"".concat("http://localhost:8080/api","/post/photo/").concat(this.props.match.params.postId,"?").concat((new Date).getTime()),onError:function(e){return e.target.src="".concat(y.a)},alt:a}),("admin"===S().user.role||S().user._id===t)&&this.editPostForm(a,n))}}]),a}(n.Component),ee=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",message:"",error:""},e.forgotPassword=function(t){t.preventDefault(),e.setState({message:"",error:""}),C(e.state.email).then((function(t){t.error?(console.log(t.error),e.setState({error:t.error})):(console.log(t.message),e.setState({message:t.message}))}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Ask for Password Reset"),this.state.message&&r.a.createElement("h4",{className:"bg-success"},this.state.message),this.state.error&&r.a.createElement("h4",{className:"bg-warning"},this.state.error),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group mt-5"},r.a.createElement("input",{type:"email",className:"form-control",placeholder:"Your email address",value:this.state.email,name:"email",onChange:function(t){return e.setState({email:t.target.value,message:"",error:""})},autoFocus:!0})),r.a.createElement("button",{onClick:this.forgotPassword,className:"btn btn-raised btn-primary"},"Send Password Rest Link")))}}]),a}(n.Component),te=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).resetPassword=function(e){var t;e.preventDefault(),n.setState({message:"",error:""}),(t={newPassword:n.state.newPassword,resetPasswordLink:n.props.match.params.resetPasswordToken},fetch("".concat("http://localhost:8080/api","/reset-password/"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return console.log("forgot password response: ",e),e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?(console.log(e.error),n.setState({error:e.error})):(console.log(e.message),n.setState({message:e.message,newPassword:""}))}))},n.state={newPassword:"",message:"",error:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Reset your Password"),this.state.message&&r.a.createElement("h4",{className:"bg-success"},this.state.message),this.state.error&&r.a.createElement("h4",{className:"bg-warning"},this.state.error),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group mt-5"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Your new password",value:this.state.newPassword,name:"newPassword",onChange:function(t){return e.setState({newPassword:t.target.value,message:"",error:""})},autoFocus:!0})),r.a.createElement("button",{onClick:this.resetPassword,className:"btn btn-raised btn-primary"},"Reset Password")))}}]),a}(n.Component),ae=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={redirectToHome:!1},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){"admin"!==S().user.role&&this.setState({redirectToHome:!0})}},{key:"render",value:function(){return this.state.redirectToHome?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h2",null,"Admin Dashboard"),r.a.createElement("p",{className:"lead"},"Welcome to React Frontend")),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h2",null,"Posts"),r.a.createElement("hr",null),r.a.createElement(N,null)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h2",null,"Users"),r.a.createElement("hr",null),r.a.createElement(V,null)))))}}]),a}(n.Component),ne=function(){return r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:w}),r.a.createElement(l.b,{exact:!0,path:"/forgot-password",component:ee}),r.a.createElement(X,{exact:!0,path:"/admin",component:ae}),r.a.createElement(X,{exact:!0,path:"/post/create",component:Y}),r.a.createElement(l.b,{exact:!0,path:"/post/:postId",component:K}),r.a.createElement(X,{exact:!0,path:"/post/edit/:postId",component:Z}),r.a.createElement(l.b,{exact:!0,path:"/users",component:V}),r.a.createElement(l.b,{exact:!0,path:"/signup",component:T}),r.a.createElement(l.b,{exact:!0,path:"/signin",component:I}),r.a.createElement(X,{exact:!0,path:"/user/edit/:userId",component:W}),r.a.createElement(l.b,{exact:!0,path:"/reset-password/:resetPasswordToken",component:te}),r.a.createElement(X,{exact:!0,path:"/findpeople",component:q}),r.a.createElement(X,{exact:!0,path:"/user/:userId",component:G})))},re=function(){return r.a.createElement(s.a,null,r.a.createElement(ne,null))};c.a.render(r.a.createElement(re,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a.p+"static/media/avatar.b23d5960.jpg"}},[[25,1,2]]]);
//# sourceMappingURL=main.68fb5efe.chunk.js.map